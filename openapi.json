{
  "schemes": ["https", "http"],
  "swagger": "2.0",
  "info": {
    "description": "This is Gateway API to upload files and create a easy way to integrate with Gateway Protocol.",
    "title": "Gateway API",
    "contact": {},
    "version": "3.0.0-beta"
  },
  "host": "dev.api.gateway.tech",
  "basePath": "/",
  "paths": {
    "/accounts": {
      "post": {
        "description": "Create a new account",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Accounts"],
        "summary": "Create account",
        "parameters": [
          {
            "description": "Account data",
            "name": "account",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/model.AccountCreateRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/model.TokenResponse"
            }
          }
        }
      }
    },
    "/accounts/me": {
      "get": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Get my account",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Accounts"],
        "summary": "Get my account",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/model.MyAccountResponse"
            }
          }
        }
      }
    },
    "/auth": {
      "post": {
        "description": "Authenticate account",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Auth"],
        "summary": "Authenticate account",
        "parameters": [
          {
            "description": "model.AuthRequest",
            "name": "authRequest",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/model.AuthRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/model.TokenResponse"
            }
          }
        }
      }
    },
    "/auth/message": {
      "get": {
        "description": "Generate sign message",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Auth"],
        "summary": "Generate sign message",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/model.MessageResponse"
            }
          }
        }
      }
    },
    "/auth/refresh-token": {
      "get": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Refresh token",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Auth"],
        "summary": "Refresh token",
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/model.TokenResponse"
            }
          }
        }
      }
    },
    "/data-assets": {
      "post": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Create a new data asset. For structured data submission, use application/json. For file uploads, use multipart/form-data. Note: All date fields must be in RFC 3339 format (e.g., 2025-09-02T14:31:00Z).",
        "consumes": ["application/json", "multipart/form-data"],
        "produces": ["application/json"],
        "tags": ["Data assets"],
        "summary": "Create a new data asset",
        "parameters": [
          {
            "type": "file",
            "description": "File to be uploaded when using multipart/form-data",
            "name": "file",
            "in": "formData",
            "required": true
          },
          {
            "type": "string",
            "description": "Create Data Asset Request schema in JSON format. This should conform to the model.CreateDataAssetRequest schema.",
            "name": "data",
            "in": "formData",
            "required": true
          },
          {
            "type": "string",
            "description": "Access control list (ACL) for the data asset (e.g., 'public-read')",
            "name": "acl",
            "in": "formData"
          },
          {
            "type": "string",
            "description": "Expiration date for the data asset (in RFC 3339 format)",
            "name": "expiration_date",
            "in": "formData"
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/model.DataAssetIDRequestAndResponse"
            }
          }
        }
      }
    },
    "/data-assets/me": {
      "get": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Get all data assets that belong to the authenticated user",
        "produces": ["application/json"],
        "tags": ["Data assets"],
        "summary": "Get my data assets",
        "parameters": [
          {
            "type": "integer",
            "description": "Page number",
            "name": "page",
            "in": "query"
          },
          {
            "type": "integer",
            "description": "Page size",
            "name": "page_size",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/helper.PaginatedResponse"
                },
                {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/definitions/model.PublicDataAsset"
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      }
    },
    "/data-assets/{id}": {
      "get": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Get data asset by ID",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Data assets"],
        "summary": "Get data asset by ID",
        "parameters": [
          {
            "type": "integer",
            "description": "Data Asset ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/model.PublicDataAsset"
            }
          }
        }
      },
      "put": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Update data asset by ID",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Data assets"],
        "summary": "Update data asset by ID",
        "parameters": [
          {
            "type": "integer",
            "description": "Data Asset ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Update Data Asset Request",
            "name": "data",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/model.UpdateDataAssetRequest"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/responses.ActionResponse"
            }
          }
        }
      },
      "delete": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Delete data asset by ID",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Data assets"],
        "summary": "Delete data asset by ID",
        "parameters": [
          {
            "type": "integer",
            "description": "Data Asset ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/responses.ActionResponse"
            }
          }
        }
      }
    },
    "/data-assets/{id}/acl": {
      "put": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Update ACL items to data asset",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Data assets"],
        "summary": "Update ACL items to data asset",
        "parameters": [
          {
            "type": "integer",
            "description": "Data Asset ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Update ACL Items Request",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/model.ACLRequest"
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/responses.ActionResponse"
            }
          }
        }
      },
      "post": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Assign ACL items to data asset",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Data assets"],
        "summary": "Assign ACL items to data asset",
        "parameters": [
          {
            "type": "integer",
            "description": "Data Asset ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Assign ACL Items Request",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/model.ACLRequest"
              }
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/responses.ActionResponse"
            }
          }
        }
      }
    },
    "/data-assets/{id}/assigned-role": {
      "delete": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Delete assigned role by ACL",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Data assets"],
        "summary": "Delete assigned role by ACL",
        "parameters": [
          {
            "type": "integer",
            "description": "Data Asset ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Delete Assigned Role Request",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/model.DataAssetIDRequestAndResponse"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/responses.EntityRemovedResponse"
            }
          }
        }
      }
    },
    "/data-assets/{id}/download": {
      "get": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Download data asset by ID",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Data assets"],
        "summary": "Download data asset by ID",
        "parameters": [
          {
            "type": "integer",
            "description": "Data Asset ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "type": "array",
              "items": {
                "type": "integer"
              }
            }
          }
        }
      }
    },
    "/data-assets/{id}/metadata": {
      "put": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Update data asset metadata by ID",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Data assets"],
        "summary": "Update data asset metadata by ID",
        "parameters": [
          {
            "type": "integer",
            "description": "Data Asset ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Update Data Asset Metadata Request",
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/model.Metadata"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/responses.ActionResponse"
            }
          }
        }
      }
    },
    "/data-models": {
      "get": {
        "description": "Get all data models",
        "produces": ["application/json"],
        "tags": ["Data models"],
        "summary": "Get data models",
        "parameters": [
          {
            "type": "integer",
            "default": 1,
            "description": "Page number",
            "name": "page",
            "in": "query"
          },
          {
            "type": "integer",
            "default": 10,
            "description": "Page size",
            "name": "page_size",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/helper.PaginatedResponse"
                },
                {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/definitions/model.DataModel"
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      },
      "post": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Create a new data model",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Data models"],
        "summary": "Create data model",
        "parameters": [
          {
            "description": "Data Model",
            "name": "data_model",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/model.DataModelRequest"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/definitions/model.DataModel"
            }
          }
        }
      }
    },
    "/data-models/me": {
      "get": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Get all data models created by a user",
        "produces": ["application/json"],
        "tags": ["Data models"],
        "summary": "Get data models by user",
        "parameters": [
          {
            "type": "integer",
            "default": 1,
            "description": "Page number",
            "name": "page",
            "in": "query"
          },
          {
            "type": "integer",
            "default": 10,
            "description": "Page size",
            "name": "page_size",
            "in": "query"
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/helper.PaginatedResponse"
                },
                {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/definitions/model.DataModel"
                      }
                    }
                  }
                }
              ]
            }
          }
        }
      }
    },
    "/data-models/{id}": {
      "get": {
        "description": "Get a data model by its ID",
        "produces": ["application/json"],
        "tags": ["Data models"],
        "summary": "Get data model by ID",
        "parameters": [
          {
            "type": "integer",
            "description": "Data Model ID",
            "name": "id",
            "in": "path",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/model.DataModel"
            }
          }
        }
      },
      "put": {
        "security": [
          {
            "BearerAuth": []
          }
        ],
        "description": "Update a data model",
        "consumes": ["application/json"],
        "produces": ["application/json"],
        "tags": ["Data models"],
        "summary": "Update data model",
        "parameters": [
          {
            "type": "integer",
            "description": "Data Model ID",
            "name": "id",
            "in": "path",
            "required": true
          },
          {
            "description": "Data Model",
            "name": "data_model",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/model.DataModel"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "schema": {
              "$ref": "#/definitions/model.DataModel"
            }
          }
        }
      }
    }
  },
  "definitions": {
    "helper.Links": {
      "type": "object",
      "properties": {
        "first": {
          "type": "string"
        },
        "last": {
          "type": "string"
        },
        "next": {
          "type": "string"
        },
        "previous": {
          "type": "string"
        }
      }
    },
    "helper.Meta": {
      "type": "object",
      "properties": {
        "current_page": {
          "type": "integer"
        },
        "items_per_page": {
          "type": "integer"
        },
        "total_items": {
          "type": "integer"
        },
        "total_pages": {
          "type": "integer"
        }
      }
    },
    "helper.PaginatedResponse": {
      "type": "object",
      "properties": {
        "data": {},
        "links": {
          "$ref": "#/definitions/helper.Links"
        },
        "meta": {
          "$ref": "#/definitions/helper.Meta"
        }
      }
    },
    "model.ACLRequest": {
      "type": "object",
      "required": ["address", "roles"],
      "properties": {
        "address": {
          "type": "string"
        },
        "roles": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/model.AccessLevel"
          }
        }
      }
    },
    "model.AccessLevel": {
      "type": "string",
      "enum": ["view", "update", "delete", "share"],
      "x-enum-varnames": ["RoleView", "RoleUpdate", "RoleDelete", "RoleShare"]
    },
    "model.AccountCreateRequest": {
      "type": "object",
      "required": ["message", "signature", "username", "wallet_address"],
      "properties": {
        "message": {
          "type": "string"
        },
        "signature": {
          "type": "string"
        },
        "username": {
          "type": "string"
        },
        "wallet_address": {
          "type": "string"
        }
      }
    },
    "model.AuthRequest": {
      "type": "object",
      "required": ["message", "signature", "wallet_address"],
      "properties": {
        "message": {
          "type": "string"
        },
        "signature": {
          "type": "string"
        },
        "wallet_address": {
          "type": "string"
        }
      }
    },
    "model.CreateDataAssetRequest": {
      "type": "object",
      "required": ["name"],
      "properties": {
        "acl": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/model.ACLRequest"
          }
        },
        "claim": {
          "type": "object"
        },
        "data_model_id": {
          "type": "integer"
        },
        "expiration_date": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    },
    "model.DataAssetIDRequestAndResponse": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer"
        }
      }
    },
    "model.DataModel": {
      "type": "object",
      "properties": {
        "created_at": {
          "type": "string"
        },
        "created_by": {
          "type": "string"
        },
        "deleted_at": {
          "type": "string"
        },
        "description": {
          "type": "string"
        },
        "id": {
          "type": "integer"
        },
        "schema": {
          "type": "object"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "title": {
          "type": "string"
        },
        "updated_at": {
          "type": "string"
        }
      }
    },
    "model.DataModelRequest": {
      "type": "object",
      "required": ["description", "schema", "title"],
      "properties": {
        "description": {
          "type": "string"
        },
        "schema": {
          "type": "object"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "title": {
          "type": "string"
        }
      }
    },
    "model.MessageResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "model.Metadata": {
      "type": "object",
      "properties": {
        "key": {
          "type": "string"
        },
        "value": {
          "type": "string"
        }
      }
    },
    "model.MyAccountResponse": {
      "type": "object",
      "properties": {
        "created_at": {
          "type": "string"
        },
        "did": {
          "type": "string"
        },
        "profile_picture": {
          "type": "string"
        },
        "updated_at": {
          "type": "string"
        },
        "username": {
          "type": "string"
        },
        "wallet_address": {
          "type": "string"
        }
      }
    },
    "model.PublicACL": {
      "type": "object",
      "properties": {
        "address": {
          "type": "string"
        },
        "created_at": {
          "type": "string"
        },
        "data_asset_id": {
          "type": "integer"
        },
        "roles": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "solana_address": {
          "type": "string"
        },
        "updated_at": {
          "type": "string"
        }
      }
    },
    "model.PublicDataAsset": {
      "type": "object",
      "properties": {
        "acl": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/model.PublicACL"
          }
        },
        "created_at": {
          "type": "string"
        },
        "created_by": {
          "type": "string"
        },
        "data_model_id": {
          "type": "integer"
        },
        "expiration_date": {
          "type": "string"
        },
        "fid": {
          "type": "string"
        },
        "id": {
          "type": "integer"
        },
        "name": {
          "type": "string"
        },
        "size": {
          "type": "integer"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "transaction_id": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "updated_at": {
          "type": "string"
        }
      }
    },
    "model.TokenResponse": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        }
      }
    },
    "model.UpdateDataAssetRequest": {
      "type": "object",
      "properties": {
        "claim": {
          "type": "object"
        },
        "expiration_date": {
          "type": "string"
        },
        "name": {
          "type": "string"
        }
      }
    },
    "responses.ActionResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    },
    "responses.EntityRemovedResponse": {
      "type": "object",
      "properties": {
        "message": {
          "type": "string"
        }
      }
    }
  },
  "securityDefinitions": {
    "BearerAuth": {
      "description": "Type \"Bearer\" followed by a space and the JWT token.",
      "type": "apiKey",
      "name": "Authorization",
      "in": "header"
    }
  }
}
